const bookSelect=document.querySelector("#book"),chapterSelect=document.querySelector("#chapter");function updateChapterSelect(){const e=bookSelect.value;fetch(`/chapters/${e}`).then((e=>e.json())).then((e=>{chapterSelect.innerHTML="";const t=e.num_chapters;for(let e=1;e<=t;e++){const t=document.createElement("option");t.value=e,t.textContent=e,window.chapterNumber&&window.chapterNumber===e&&(t.selected=!0),chapterSelect.appendChild(t)}}))}if(bookSelect){for(let e=0;e<bookSelect.length;e++)bookSelect.options[e].label===book&&(bookSelect.selectedIndex=e);bookSelect.addEventListener("change",updateChapterSelect),updateChapterSelect()}