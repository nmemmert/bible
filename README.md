# [Self-hosted Bible](https://github.com/samhaswon/selfhosted-bible)
A self-hosted webapp of various Bible versions including the KJV, ESV, and ASV.

## Supported Architectures
| Architecture | Available | Tag    |
|:------------:|:---------:|--------|
|    x86-64    |     ✅     | latest |
|   arm64v8    |     ✅     | latest |
|   arm32v7    |     ✅     | latest |

# Instructions

## Generating an API key for authorized ESV access:
To start, make an account at [esv.org](https://www.esv.org/). After creating an account at [esv.org](https://www.esv.org/), create an API key at [https://api.esv.org/account/create-application/](https://api.esv.org/account/create-application/). Then place the key in [esv-api-key.txt](esv-api-key.txt) in place of "\<key-goes-here\>" for local installation or save the key for later if running in Docker.

## Running the application
<details>
    <summary>Locally</summary>

#### *Install Python 3*
This application requires Python 3 to run. To install it on Windows, download and run the installer at [python.org](https://www.python.org/downloads/). For Linux installation, you likely already have Python installed but maybe not pip. In this case, install python3 (if not already installed) and py3-pip (or whatever the package name is for Python 3 pip in your package manager) through your package manager. <br><br>
Then, verify Python was installed by running `python3 --version` on Linux or `py -version` on Windows.

For more detailed installation instructions, see [realpython.com](https://realpython.com/installing-python/).

#### *Install requirements*
```shell
pip3 install -r requirements.txt
```
#### *Execute:*
```shell
waitress-serve --port=5000 --call "main:create_app"
```
</details>

<details>
    <summary>In Docker</summary>

With docker, you have 2 options. You can either build the container yourself or pull it from [docker hub](https://hub.docker.com/r/samhaswon/self-hosted-bible)
#### Build the container
```shell
docker build -t self-hosted-bible .
``` 
##### (or) Pull the container
```shell
docker pull samhaswon/self-hosted-bible:latest
```

##### Run the container (detached)
```shell
docker run -dp 5000:5000 --restart=always --name self-hosted-bible -e ESV_API_KEY=<key-goes-here> self-hosted-bible
```
</details>

## *Navigate to the webpage*
To access a locally hosted version of the application, go to [localhost:5000](http://localhost:5000) or [127.0.0.1:5000](http://127.0.0.1:5000). To access the application running in Docker on another machine, go to <machine_ip>:5000 .

## Copyright Notice:
The code included in this repository is subject to the included license, but the content from external sources is not.

<details>
    <summary>ASV Notice</summary>

> Scripture quotations marked “ASV” are taken from the American Standard Version Bible (Public Domain).
</details>

<details>
    <summary>ESV Notice</summary>

>Scripture quotations marked “ESV” are from the ESV® Bible (The Holy Bible, English Standard Version®), copyright © 2001 by Crossway, a publishing ministry of Good News Publishers. Used by permission. All rights reserved. The ESV text may not be quoted in any publication made available to the public by a Creative Commons license. The ESV may not be translated into any other language.
>
>Users may not copy or download more than 500 verses of the ESV Bible or more than one half of any book of the ESV Bible.
</details>

<details>
    <summary>KJV Notice</summary>

> Rights in The Authorized Version of the Bible (King James Bible) in the United Kingdom are vested in the Crown and administered by the Crown’s patentee, Cambridge University Press. The reproduction by any means of the text of the King James Version is permitted to a maximum of five hundred (500) verses for liturgical and non-commercial educational use, provided that the verses quoted neither amount to a complete book of the Bible nor represent 25 per cent or more of the total text of the work in which they are quoted, subject to the following acknowledgement being included:
> Scripture quotations from The Authorized (King James) Version. Rights in the Authorized Version in the United Kingdom are vested in the Crown. Reproduced by permission of the Crown’s patentee, Cambridge University Press
> When quotations from the KJV text are used in materials not being made available for sale, such as church bulletins, orders of service, posters, presentation materials, or similar media, a complete copyright notice is not required but the initials KJV must appear at the end of the quotation.
> Rights or permission requests (including but not limited to reproduction in commercial publications) that exceed the above guidelines must be directed to the Permissions Department, Cambridge University Press, University Printing House, Shaftesbury Road, Cambridge CB2 8BS, UK (https://www.cambridge.org/about-us/rights-permissions) and approved in writing.
</details>

## Credits
Credit to [@bibleapi](https://github.com/bibleapi/bibleapi-bibles-json) for KJV and ASV original JSON

## Examples
### Home page
<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Home</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>html {font-family: sans-serif;-webkit-text-size-adjust: 100%;-ms-text-size-adjust: 100% }body {margin: 0;font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;font-size: 14px;line-height: 1.42857143;color: #333;background-color: #fff;}[hidden],template {display: none }a {background-color: transparent }a:active,a:hover {outline: 0 }h1 {margin: .67em 0;font-size: 2em }.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6 {font-family: inherit;font-weight: 500;line-height: 1.1;color: inherit }.h1,.h2,.h3,h1,h2,h3 {margin-top: 20px;margin-bottom: 10px }.h4,.h5,.h6,h4,h5,h6 {margin-top: 10px;margin-bottom: 10px }.h1,h1 {font-size: 36px }.h2,h2 {font-size: 30px }.h3,h3 {font-size: 24px }.h4,h4 {font-size: 18px }.h5,h5 {font-size: 14px }.h6,h6 {font-size: 12px }button,input,optgroup,select,textarea {margin: 0;font: inherit;color: inherit }button {overflow: visible }html {font-size: 10px;-webkit-tap-highlight-color: rgba(0,0,0,0) }button,input,select,textarea {font-family: inherit;font-size: inherit;line-height: inherit }* {-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box }a {color: #337ab7;text-decoration: none }.tab {display: inline-block;margin-left: 40px;}a:focus,a:hover {color: #23527c;text-decoration: underline }a:focus {outline: 5px auto -webkit-focus-ring-color;outline-offset: -2px }a:-webkit-any-link {color: -webkit-link;cursor: pointer;text-decoration: none;}.container-fluid {padding-right: 15px;padding-left: 15px;margin-right: auto;margin-left: auto }label {display: inline-block;max-width: 100%;margin-bottom: 5px;font-weight: 700 }.form-control {display: block;width: 100%;padding: 6px 12px;font-size: 14px;line-height: 1.42857143;color: #555;background-color: #fff;background-image: none;border: 1px solid #ccc;border-radius: 4px;-webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075);box-shadow: inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition: border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-o-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s }.form-control:focus {border-color: #66afe9;outline: 0;-webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6) }.form-group {margin-bottom: 15px }.btn {display: inline-block;padding: 6px 12px;margin-bottom: 0;font-size: 14px;font-weight: 400;line-height: 1.42857143;text-align: center;white-space: nowrap;vertical-align: middle;-ms-touch-action: manipulation;touch-action: manipulation;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px }.btn-default {color: #333;background-color: #fff;border-color: #ccc }.btn-default:hover {color: #333;background-color: #e6e6e6;border-color: #adadad }.nav {padding-left: 0;margin-bottom: 0;list-style: none }.nav>li>a {position: relative;display: block;padding: 10px 15px }.navbar {position: relative;min-height: 50px;margin-bottom: 20px;border: 1px solid transparent }@media (min-width: 768px) {.navbar-header {float:left }}.navbar-collapse.in {overflow-y: auto }@media (min-width: 768px) {.navbar-collapse {width:auto;border-top: 0;-webkit-box-shadow: none;box-shadow: none }.navbar-collapse.collapse {display: block;height: auto;padding-bottom: 0;overflow: visible }.navbar-collapse.in {overflow-y: visible }.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse {padding-right: 0;padding-left: 0 }}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header {margin-right: -15px;margin-left: -15px }@media (min-width: 768px) {.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header {margin-right:0;margin-left: 0 }}.navbar-brand {float: left;height: 50px;padding: 15px 15px;font-size: 18px;line-height: 20px }.navbar-brand:focus,.navbar-brand:hover {text-decoration: none }@media (min-width: 768px) {.navbar>.container .navbar-brand,.navbar>.container-fluid .navbar-brand {margin-left:-15px }}.navbar-toggle {position: relative;float: right;padding: 9px 10px;margin-top: 8px;margin-right: 15px;margin-bottom: 8px;background-color: transparent;background-image: none;border: 1px solid transparent;border-radius: 4px }.navbar-toggle:focus {outline: 0 }.navbar-toggle .icon-bar {display: block;width: 22px;height: 2px;border-radius: 1px }.navbar-toggle .icon-bar+.icon-bar {margin-top: 4px }@media (min-width: 768px) {.navbar-toggle {display:none }}@media (max-width: 767px) {.navbar-nav .open .dropdown-menu {position:static;float: none;width: auto;margin-top: 0;background-color: transparent;border: 0;-webkit-box-shadow: none;box-shadow: none }.navbar-nav .open .dropdown-menu .dropdown-header,.navbar-nav .open .dropdown-menu>li>a {padding: 5px 15px 5px 25px }.navbar-nav .open .dropdown-menu>li>a {line-height: 20px }.navbar-nav .open .dropdown-menu>li>a:focus,.navbar-nav .open .dropdown-menu>li>a:hover {background-image: none }}@media (min-width: 768px) {.navbar-nav {float:left;margin: 0 }.navbar-nav>li {float: left }.navbar-nav>li>a {padding-top: 15px;padding-bottom: 15px }}@media (max-width: 767px) {.navbar-nav {float:left;margin: 0 }.navbar-nav>li {float: left }.navbar-nav>li>a {padding-top: 15px;padding-bottom: 15px }}.navbar-inverse {background-color: #222;border-color: #080808 }.navbar-inverse .navbar-brand {color: #9d9d9d }.navbar-inverse .navbar-brand:focus,.navbar-inverse .navbar-brand:hover {color: #fff;background-color: transparent }.navbar-inverse .navbar-text {color: #9d9d9d }.navbar-inverse .navbar-nav>li>a {color: #9d9d9d }.navbar-inverse .navbar-nav>li>a:focus,.navbar-inverse .navbar-nav>li>a:hover {color: #fff;background-color: transparent }.navbar-inverse .navbar-nav>.active>a,.navbar-inverse .navbar-nav>.active>a:focus,.navbar-inverse .navbar-nav>.active>a:hover {color: #fff;background-color: #080808 }.navbar-inverse .navbar-nav>.disabled>a,.navbar-inverse .navbar-nav>.disabled>a:focus,.navbar-inverse .navbar-nav>.disabled>a:hover {color: #444;background-color: transparent }.navbar-inverse .navbar-toggle {border-color: #333 }.navbar-inverse .navbar-toggle:focus,.navbar-inverse .navbar-toggle:hover {background-color: #333 }.navbar-inverse .navbar-toggle .icon-bar {background-color: #fff }.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form {border-color: #101010 }.navbar-inverse .navbar-nav>.open>a,.navbar-inverse .navbar-nav>.open>a:focus,.navbar-inverse .navbar-nav>.open>a:hover {color: #fff;background-color: #080808 }@media (max-width: 767px) {.navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header {border-color:#080808 }.navbar-inverse .navbar-nav .open .dropdown-menu .divider {background-color: #080808 }.navbar-inverse .navbar-nav .open .dropdown-menu>li>a {color: #9d9d9d }.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover {color: #fff;background-color: transparent }.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover {color: #fff;background-color: #080808 }.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover {color: #444;background-color: transparent }}.navbar-inverse .navbar-link {color: #9d9d9d }.navbar-inverse .navbar-link:hover {color: #fff }.navbar-inverse .btn-link {color: #9d9d9d }.navbar-inverse .btn-link:focus,.navbar-inverse .btn-link:hover {color: #fff }.navbar-inverse .btn-link[disabled]:focus,.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:focus,fieldset[disabled] .navbar-inverse .btn-link:hover {color: #444 }@media (prefers-color-scheme: dark) {body {background-color: #212435;color: white;}.control-label {color: white }.form-control {background-color: #010420;border-top-color: #a5b5f5;border-right-color: #a5b5f5;;border-bottom-color: #a5b5f5;;border-left-color: #a5b5f5;;color: #fff;}.navbar-inverse {background-color: #000331;}h2 {color: white }h4 {color: #bdbdbd }p {color: #eaeaea }.btn-default {background-color: #010420;border-top-color: #a5b5f5;border-right-color: #a5b5f5;border-bottom-color: #a5b5f5;border-left-color: #a5b5f5;color: #fff;}.navbar-inverse .navbar-brand {color: #e0e0e0;}}.error {text-align: center }@media (min-width: 1000px) {.row {display: inline-flex;}.column {box-sizing: border-box;height: 100%;overflow: auto;padding: 0 2%;}}@media (max-width: 1000px) {.row {display: flex;}.column {box-sizing: border-box;height: 100%;overflow: auto;padding: 0 2%;}}td {padding: 5px;}th {text-align: left;padding: 0px 0px 5px 5px;font-size: 12px;font-weight: normal;}</style><link rel="shortcut icon" href="http://127.0.0.1:5000/static/favicon.ico" type="image/x-icon"></head><body data-new-gr-c-s-check-loaded="14.1102.0" data-gr-ext-installed=""><div class="navbar navbar-inverse mw-100" role="navigation"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="http://127.0.0.1:5000/">Self-hosted Bible</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="http://127.0.0.1:5000/copyright">Copyright</a></li></ul></div></div></div><div class="container-fluid mw-100"><form method="post" role="form"><input id="csrf_token" name="csrf_token" type="hidden" value=""><div class="form-group required"><label class="control-label" for="select_version">Select version</label><select class="form-control" id="select_version" multiple="" name="select_version" required="" size="3"><option value="ASV">ASV</option><option selected="" value="ESV">ESV</option><option value="KJV">KJV</option></select></div><br><div class="form-group required"><label class="control-label" for="select_book">Select book</label><select class="form-control" id="select_book" name="select_book" required=""><option selected="" value="Genesis">Genesis</option><option value="Exodus">Exodus</option><option value="Leviticus">Leviticus</option><option value="Numbers">Numbers</option><option value="Deuteronomy">Deuteronomy</option><option value="Joshua">Joshua</option><option value="Judges">Judges</option><option value="Ruth">Ruth</option><option value="1 Samuel">1 Samuel</option><option value="2 Samuel">2 Samuel</option><option value="1 Kings">1 Kings</option><option value="2 Kings">2 Kings</option><option value="1 Chronicles">1 Chronicles</option><option value="2 Chronicles">2 Chronicles</option><option value="Ezra">Ezra</option><option value="Nehemiah">Nehemiah</option><option value="Esther">Esther</option><option value="Job">Job</option><option value="Psalms">Psalms</option><option value="Proverbs">Proverbs</option><option value="Ecclesiastes">Ecclesiastes</option><option value="Song of Solomon">Song of Solomon</option><option value="Isaiah">Isaiah</option><option value="Jeremiah">Jeremiah</option><option value="Lamentations">Lamentations</option><option value="Ezekiel">Ezekiel</option><option value="Daniel">Daniel</option><option value="Hosea">Hosea</option><option value="Joel">Joel</option><option value="Amos">Amos</option><option value="Obadiah">Obadiah</option><option value="Jonah">Jonah</option><option value="Micah">Micah</option><option value="Nahum">Nahum</option><option value="Habakkuk">Habakkuk</option><option value="Zephaniah">Zephaniah</option><option value="Haggai">Haggai</option><option value="Zechariah">Zechariah</option><option value="Malachi">Malachi</option><option value="Matthew">Matthew</option><option value="Mark">Mark</option><option value="Luke">Luke</option><option value="John">John</option><option value="Acts">Acts</option><option value="Romans">Romans</option><option value="1 Corinthians">1 Corinthians</option><option value="2 Corinthians">2 Corinthians</option><option value="Galatians">Galatians</option><option value="Ephesians">Ephesians</option><option value="Philippians">Philippians</option><option value="Colossians">Colossians</option><option value="1 Thessalonians">1 Thessalonians</option><option value="2 Thessalonians">2 Thessalonians</option><option value="1 Timothy">1 Timothy</option><option value="2 Timothy">2 Timothy</option><option value="Titus">Titus</option><option value="Philemon">Philemon</option><option value="Hebrews">Hebrews</option><option value="James">James</option><option value="1 Peter">1 Peter</option><option value="2 Peter">2 Peter</option><option value="1 John">1 John</option><option value="2 John">2 John</option><option value="3 John">3 John</option><option value="Jude">Jude</option><option value="Revelation">Revelation</option></select></div><input class="btn btn-default" id="submit_book" name="submit_book" type="submit" value="Submit book"><br><div class="form-group"><label class="control-label" for="select_chapter">Select chapter</label><select class="form-control" id="select_chapter" name="select_chapter"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option><option value="35">35</option><option value="36">36</option><option value="37">37</option><option value="38">38</option><option value="39">39</option><option value="40">40</option><option value="41">41</option><option value="42">42</option><option value="43">43</option><option value="44">44</option><option value="45">45</option><option value="46">46</option><option value="47">47</option><option value="48">48</option><option value="49">49</option><option value="50">50</option></select></div><input class="btn btn-default" id="submit_chapter" name="submit_chapter" type="submit" value="Submit chapter"></form></div></body>
</html>

### Content page
<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Genesis 1</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="./Genesis 1_files/styles.css"><link rel="shortcut icon" href="http://127.0.0.1:5000/static/favicon.ico" type="image/x-icon"></head><body data-new-gr-c-s-check-loaded="14.1102.0" data-gr-ext-installed=""><div class="navbar navbar-inverse mw-100" role="navigation"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="http://127.0.0.1:5000/">Self-hosted Bible</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="http://127.0.0.1:5000/copyright">Copyright</a></li></ul></div></div></div><div class="container-fluid mw-100"><h2>Genesis 1</h2><form method="post" role="form"><input id="csrf_token" name="csrf_token" type="hidden" value=""><input class="btn btn-default" id="previous_button" name="previous_button" type="submit" value="Previous"><input class="btn btn-default" id="next_button" name="next_button" type="submit" value="Next"><br><br><h6>© KJV</h6><p>1 In the beginning God created the heaven and the earth.</p><p>2 And the earth was without form, and void; and darkness was upon the face of the deep. And the Spirit of God moved upon the face of the waters.</p><br><br><input id="csrf_token" name="csrf_token" type="hidden" value=""><input class="btn btn-default" id="previous_button" name="previous_button" type="submit" value="Previous"><input class="btn btn-default" id="next_button" name="next_button" type="submit" value="Next"><br><br></form></div></body>
</html>